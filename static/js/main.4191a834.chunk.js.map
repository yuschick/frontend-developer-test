{"version":3,"sources":["components/DataTable/TableActions.js","components/ScreenReaderText.js","types/sortDirection.js","components/DataTable/DataTable.js","components/DataTable/index.js","lib/api/data.js","lib/api/index.js","utils/formatTableRowData.js","routes/App/UsersTable.js","routes/App/ProjectsTable.js","routes/App/App.js","routes/App/index.js","index.js"],"names":["TableActions","fetch","loading","error","complete","isMounted","useRef","useEffect","current","ActionsContainer","data-test-id","CircularProgress","Typography","color","role","Button","variant","onClick","styled","div","props","func","isRequired","bool","Hidden","span","ScreenReaderText","as","children","SortDirection","Object","freeze","asc","desc","InvertSortDirection","useStyles","makeStyles","table","minWidth","DataTable","fetchData","summary","initialSortBy","initialSort","title","data","useState","tableData","setTableData","sortBy","setSortBy","sortDirection","setSortDirection","classes","rows","length","sorted","sort","a","b","itemA","value","toString","itemB","localeCompare","TableContainer","component","Paper","Table","className","TableHead","TableRow","cols","map","col","TableCell","key","uuidv4","sortable","TableSortLabel","active","id","disabled","direction","label","TableBody","colSpan","Box","display","justifyContent","py","row","keys","k","i","usersDiff","timestamp","Date","getTime","diff","field","oldValue","newValue","projectsDiff","resolveOrRejectCollection","timesCalled","collection","Promise","resolve","reject","setTimeout","sliceStart","Math","ceil","sliceEnd","totalItems","hasItems","clearTimeout","code","slice","limit","offset","total","getProjectsDiff","getUsersDiff","formatTableRowData","d","date","format","old","new","UsersTable","setLoading","setComplete","setError","setData","useCallback","api","result","concat","ProjectsTable","StyledPage","main","App","data-test-class","GlobalStyle","createGlobalStyle","ReactDOM","render","document","getElementById"],"mappings":"2jBAKA,IAAMA,EAAe,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,MAAOC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACvCC,EAAYC,kBAAO,GAOzB,OALAC,qBAAU,WACJF,IACJA,EAAUG,SAAU,KACnB,CAACH,IAGF,kBAACI,EAAD,CAAkBC,eAAa,iBAC5BL,GAAaH,EACZ,kBAACS,EAAA,EAAD,CAAkBD,eAAa,0BAE/B,kBAAC,WAAD,KACGP,GACC,kBAACS,EAAA,EAAD,CACEC,MAAM,QACNC,KAAK,QACLJ,eAAa,4BAHf,yDAQDN,EACC,kBAACQ,EAAA,EAAD,CAAYF,eAAa,+BAAzB,8BAIA,kBAACK,EAAA,EAAD,CACEC,QAAQ,YACRH,MAAM,UACNI,QAAShB,EACTS,eAAa,8BAEZP,EAAQ,QAAU,gBAS3BM,EAAmBS,IAAOC,IAAV,KAOtBnB,EAAaoB,MAAQ,CACnBnB,MAAOoB,OAAKC,WACZpB,QAASqB,OAAKD,WACdnB,MAAOoB,OAAKD,WACZlB,SAAUmB,OAAKD,YAGFtB,Q,4NC3Df,I,EAIMwB,EAASN,IAAOO,KAAV,KAUGC,EAdU,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,GAAIC,EAAe,EAAfA,SAC9B,OAAO,kBAACJ,EAAD,CAAQG,GAAIA,GAAKC,I,QCJbC,EAAgBC,OAAOC,OAAO,CAAEC,IAAK,MAAOC,KAAM,SAClDC,EAAsBJ,OAAOC,QAAP,KAAAD,OAAA,IAAAA,CAAA,EAChCD,EAAcG,IAAMH,EAAcI,MADFH,OAAA,IAAAA,CAAA,EAEhCD,EAAcI,KAAOJ,EAAcG,KAFH,ICuI7BG,EAAYC,YAAW,CAC3BC,MAAO,CACLC,SAAU,OCxICC,ED4BG,SAAC,GAUZ,IATLC,EASI,EATJA,UACAtC,EAQI,EARJA,QACAC,EAOI,EAPJA,MACAC,EAMI,EANJA,SACAqC,EAKI,EALJA,QACAC,EAII,EAJJA,cACAC,EAGI,EAHJA,YACAC,EAEI,EAFJA,MACAC,EACI,EADJA,KACI,EAC8BC,mBAAS,IADvC,mBACGC,EADH,KACcC,EADd,OAEwBF,mBAASJ,GAFjC,mBAEGO,EAFH,KAEWC,EAFX,OAGsCJ,mBAASH,GAH/C,mBAGGQ,EAHH,KAGkBC,EAHlB,KAIEC,EAAUlB,IAiBhB,OAfA5B,qBAAU,WACR,GAAKsC,EAAKS,KAAKC,QAAWN,EAA1B,CAEA,IAAMO,EAAS,YAAIX,EAAKS,MAAMG,MAAK,SAACC,EAAGC,GACrC,IAAMC,EAAQF,EAAET,GAAQY,MAAMC,WACxBC,EAAQJ,EAAEV,GAAQY,MAAMC,WAE9B,OAAOX,IAAkBtB,EAAcI,KACnC8B,EAAMC,cAAcJ,GACpBA,EAAMI,cAAcD,MAG1Bf,EAAaQ,MACZ,CAACX,EAAMM,EAAeF,IAGvB,kBAAC,WAAD,KACE,kBAACgB,EAAA,EAAD,CACEC,UAAWC,IACX1B,QAASA,EACT/B,eAAa,cAEb,kBAAC0D,EAAA,EAAD,CAAOC,UAAWhB,EAAQhB,OACxB,kBAAC,EAAD,CAAkBV,GAAG,WAAWiB,GAChC,kBAAC0B,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACG1B,EAAK2B,KAAKC,KAAI,SAACC,GAAD,OACb,kBAACC,EAAA,EAAD,CAAWC,IAAKC,eACbH,EAAII,SACH,kBAACC,EAAA,EAAD,CACEC,OAAQ/B,IAAWyB,EAAIO,GACvBC,SAAUhF,EACViF,UAAWhC,EACXlC,QAAS,WACPgC,IAAWyB,EAAIO,IAAM/B,EAAUwB,EAAIO,IACnC7B,EAAiBlB,EAAoBiB,KAEvCzC,eAAA,0BAECgE,EAAIU,MACL,kBAAC,EAAD,oBAEU,YAFV,MAMFV,EAAIU,YAMd,kBAACC,EAAA,EAAD,MACItC,EAAUQ,QAAUrD,GACpB,kBAACqE,EAAA,EAAD,KACE,kBAACI,EAAA,EAAD,CAAWW,QAASzC,EAAK2B,KAAKjB,QAC5B,kBAACgC,EAAA,EAAD,CAAKC,QAAQ,OAAOC,eAAe,SAASC,GAAI,GAC9C,kBAAC/E,EAAA,EAAD,CAAkBD,eAAa,0BAKtCqC,EAAU0B,KAAI,SAACkB,GAAD,OACb,kBAACpB,EAAA,EAAD,CAAUK,IAAKC,eACZ/C,OAAO8D,KAAKD,GAAKlB,KAAI,SAACoB,EAAGC,GAAJ,OACpB,kBAACnB,EAAA,EAAD,CACEC,IAAKC,cACLnE,eAAA,0BAAiCmC,EAAK2B,KAAKsB,GAAGb,KAE7CU,EAAIE,GAAGT,mBASnBvC,EAAKS,KAAKC,QACX,kBAAC,EAAD,CACEtD,MAAOuC,EACPtC,QAASA,EACTC,MAAOA,EACPC,SAAUA,MEjIP2F,EAAY,CACvB,CACEd,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,OAAQC,SAAU,WAGjD,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,QAASC,SAAU,UAGlD,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,OAAQC,SAAU,YAGjD,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,SAAUC,SAAU,aAGnD,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,UAAWC,SAAU,wCAGpD,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,qCAAsCC,SAAU,wCAG/E,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,oBAAqBC,SAAU,SAG9D,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,MAAOC,SAAU,QAGhD,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,qCAAsCC,SAAU,2BAG/E,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,wBAAyBC,SAAU,wBAKvDC,EAAe,CAC1B,CACEtB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,gBAAiBC,SAAU,mBAG1D,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,cAAeC,SAAU,mBAGxD,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,gBAAiBC,SAAU,+BAG1D,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,4BAA6BC,SAAU,4CAGtE,CACErB,GAAI,uCACJe,UAAW,IAAIC,KAAK,aAAaC,UACjCC,KAAM,CACJ,CAAEC,MAAO,OAAQC,SAAU,yCAA0CC,SAAU,oBCrG/EE,EAA4B,SAACC,EAAaC,GAAd,OAA6B,WAC7D,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAM5B,EAAK6B,YAAW,WACpBL,GAAe,EACf,IAAMM,EANM,GAMoBC,KAAKC,KAAKR,EAAc,GAAK,GACvDS,EAPM,EAOiBF,KAAKC,KAAKR,EAAc,GAC/CU,EAAaT,EAAWnD,OACxB6D,EAAWL,EAAaI,EAI9B,OAFAE,aAAapC,GAETwB,EAAc,IAAM,EACfI,EAAO,CACZS,KAAM,IACNnH,MAAO,iBAIJyG,EAAQ,CACbU,KAAM,IACNzE,KAAM6D,EAAWa,MAAMR,EAAYG,GACnCM,MAvBU,EAwBVC,OAAQL,EAAWL,EAAaI,EAChCO,MAAOP,MA1BO,UA4CP,GACbQ,gBAVOnB,EAFW,EAE4BD,GAW9CqB,aALOpB,EAFW,EAE4BT,I,QCzCnC8B,EAAqB,SAAChF,GAAD,OAChCA,EAAKU,OACDV,EAAK4B,KAAI,SAACqD,GAAD,MAAQ,CACfC,KAAM,CACJ3C,MAAO4C,YAAOF,EAAE9B,UAAW,aAC3BnC,MAAOiE,EAAE9B,WAEXf,GAAI,CACFG,MAAO0C,EAAE7C,GACTpB,MAAOiE,EAAE7C,IAEXgD,IAAK,CACH7C,MAAO0C,EAAE3B,KAAK,GAAGE,SACjBxC,MAAOiE,EAAE3B,KAAK,GAAGE,UAEnB6B,IAAK,CACH9C,MAAO0C,EAAE3B,KAAK,GAAGG,SACjBzC,MAAOiE,EAAE3B,KAAK,GAAGG,cAGrB,ICqDS6B,EAnEI,WAAO,IAAD,EACOrF,oBAAS,GADhB,mBAChB5C,EADgB,KACPkI,EADO,OAEStF,oBAAS,GAFlB,mBAEhB1C,EAFgB,KAENiI,EAFM,OAGGvF,oBAAS,GAHZ,mBAGhB3C,EAHgB,KAGTmI,EAHS,OAICxF,mBAAS,IAJV,mBAIhBD,EAJgB,KAIV0F,EAJU,KAMjB/F,EAAYgG,sBAAW,sBAAC,4BAAA9E,EAAA,6DAC5B0E,GAAW,GACXE,GAAS,GAFmB,kBAKLG,EAAIb,eALC,QAKpBc,EALoB,QAOnB7F,KAAKU,OACRgF,GAAQ,SAAC1F,GAAD,OAAUA,EAAK8F,OAAOD,EAAO7F,SACrCwF,GAAY,GATU,gDAW1BC,IAAW,EAAD,IAXgB,yBAa1BF,GAAW,GAbe,4EAe3B,IAOH,OALA7H,qBAAU,WACJsC,EAAKU,QACTf,MACC,CAACK,EAAML,IAGR,kBAAC,EAAD,CACEA,UAAWA,EACXI,MAAM,cACNH,QAAQ,qCACRvC,QAASA,EACTC,MAAOA,EACPC,SAAUA,EACVsC,cAAc,OACdC,YAAad,EAAcI,KAC3BY,KAAM,CACJ2B,KAAM,CACJ,CACES,GAAI,OACJG,MAAO,OACPN,UAAU,GAEZ,CACEG,GAAI,KACJG,MAAO,UACPN,UAAU,GAEZ,CACEG,GAAI,MACJG,MAAO,YACPN,UAAU,GAEZ,CACEG,GAAI,MACJG,MAAO,YACPN,UAAU,IAGdxB,KAAMuE,EAAmBhF,OCMlB+F,EAnEO,WAAO,IAAD,EACI9F,oBAAS,GADb,mBACnB5C,EADmB,KACVkI,EADU,OAEMtF,oBAAS,GAFf,mBAEnB1C,EAFmB,KAETiI,EAFS,OAGAvF,oBAAS,GAHT,mBAGnB3C,EAHmB,KAGZmI,EAHY,OAIFxF,mBAAS,IAJP,mBAInBD,EAJmB,KAIb0F,EAJa,KAMpB/F,EAAYgG,sBAAW,sBAAC,4BAAA9E,EAAA,6DAC5B0E,GAAW,GACXE,GAAS,GAFmB,kBAKLG,EAAId,kBALC,QAKpBe,EALoB,QAOnB7F,KAAKU,OACRgF,GAAQ,SAAC1F,GAAD,OAAUA,EAAK8F,OAAOD,EAAO7F,SACrCwF,GAAY,GATU,gDAW1BC,IAAW,EAAD,IAXgB,yBAa1BF,GAAW,GAbe,4EAe3B,IAOH,OALA7H,qBAAU,WACJsC,EAAKU,QACTf,MACC,CAACK,EAAML,IAGR,kBAAC,EAAD,CACEA,UAAWA,EACXI,MAAM,iBACNH,QAAQ,wCACRvC,QAASA,EACTC,MAAOA,EACPC,SAAUA,EACVsC,cAAc,OACdC,YAAad,EAAcI,KAC3BY,KAAM,CACJ2B,KAAM,CACJ,CACES,GAAI,OACJG,MAAO,OACPN,UAAU,GAEZ,CACEG,GAAI,KACJG,MAAO,UACPN,UAAU,GAEZ,CACEG,GAAI,MACJG,MAAO,YACPN,UAAU,GAEZ,CACEG,GAAI,MACJG,MAAO,YACPN,UAAU,IAGdxB,KAAMuE,EAAmBhF,O,iLC/DjC,IASMgG,EAAa3H,IAAO4H,KAAV,KCbDC,EDIH,WACV,OACE,kBAACF,EAAD,CAAYnI,eAAa,OACvB,kBAAC,EAAD,CAAYsI,kBAAgB,cAC5B,kBAAC,EAAD,CAAeA,kBAAgB,gB,0+BEJrC,IAAMC,GAAcC,YAAH,KAyCjBC,IAASC,OACP,kBAAC,WAAD,KACE,kBAACH,GAAD,MACA,kBAAC,EAAD,OAEFI,SAASC,eAAe,W","file":"static/js/main.4191a834.chunk.js","sourcesContent":["import React, { Fragment, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { Button, CircularProgress, Typography } from \"@material-ui/core\";\nimport { bool, func } from \"prop-types\";\n\nconst TableActions = ({ fetch, loading, error, complete }) => {\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    if (isMounted) return;\n    isMounted.current = true;\n  }, [isMounted]);\n\n  return (\n    <ActionsContainer data-test-id=\"table-actions\">\n      {isMounted && loading ? (\n        <CircularProgress data-test-id=\"table-actions-spinner\" />\n      ) : (\n        <Fragment>\n          {error && (\n            <Typography\n              color=\"error\"\n              role=\"alert\"\n              data-test-id=\"table-actions-text-error\"\n            >\n              We had problems fetching your data. Please try again.\n            </Typography>\n          )}\n          {complete ? (\n            <Typography data-test-id=\"table-actions-text-complete\">\n              All historical data shown.\n            </Typography>\n          ) : (\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={fetch}\n              data-test-id=\"table-actions-button-fetch\"\n            >\n              {error ? \"Retry\" : \"Load more\"}\n            </Button>\n          )}\n        </Fragment>\n      )}\n    </ActionsContainer>\n  );\n};\n\nconst ActionsContainer = styled.div`\n  display: grid;\n  grid-gap: var(--spacing-two);\n  margin: var(--spacing-two) 0;\n  place-items: center;\n`;\n\nTableActions.props = {\n  fetch: func.isRequired,\n  loading: bool.isRequired,\n  error: bool.isRequired,\n  complete: bool.isRequired,\n};\n\nexport default TableActions;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst ScreenReaderText = ({ as, children }) => {\n  return <Hidden as={as}>{children}</Hidden>;\n};\n\nconst Hidden = styled.span`\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n`;\n\nexport default ScreenReaderText;\n","export const SortDirection = Object.freeze({ asc: \"asc\", desc: \"desc\" });\nexport const InvertSortDirection = Object.freeze({\n  [SortDirection.asc]: SortDirection.desc,\n  [SortDirection.desc]: SortDirection.asc,\n});\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport {\n  shape,\n  arrayOf,\n  string,\n  bool,\n  func,\n  number,\n  oneOfType,\n  oneOf,\n} from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport {\n  Box,\n  TableContainer,\n  Paper,\n  Table,\n  TableRow,\n  TableHead,\n  TableCell,\n  TableSortLabel,\n  TableBody,\n  CircularProgress,\n} from \"@material-ui/core\";\n\nimport TableActions from \"./TableActions\";\nimport ScreenReaderText from \"../ScreenReaderText\";\nimport { SortDirection, InvertSortDirection } from \"../../types/sortDirection\";\n\nconst DataTable = ({\n  fetchData,\n  loading,\n  error,\n  complete,\n  summary,\n  initialSortBy,\n  initialSort,\n  title,\n  data,\n}) => {\n  const [tableData, setTableData] = useState([]);\n  const [sortBy, setSortBy] = useState(initialSortBy);\n  const [sortDirection, setSortDirection] = useState(initialSort);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (!data.rows.length || !sortBy) return;\n\n    const sorted = [...data.rows].sort((a, b) => {\n      const itemA = a[sortBy].value.toString();\n      const itemB = b[sortBy].value.toString();\n\n      return sortDirection === SortDirection.desc\n        ? itemB.localeCompare(itemA)\n        : itemA.localeCompare(itemB);\n    });\n\n    setTableData(sorted);\n  }, [data, sortDirection, sortBy]);\n\n  return (\n    <Fragment>\n      <TableContainer\n        component={Paper}\n        summary={summary}\n        data-test-id=\"table-data\"\n      >\n        <Table className={classes.table}>\n          <ScreenReaderText as=\"caption\">{title}</ScreenReaderText>\n          <TableHead>\n            <TableRow>\n              {data.cols.map((col) => (\n                <TableCell key={uuidv4()}>\n                  {col.sortable ? (\n                    <TableSortLabel\n                      active={sortBy === col.id}\n                      disabled={loading}\n                      direction={sortDirection}\n                      onClick={() => {\n                        sortBy !== col.id && setSortBy(col.id);\n                        setSortDirection(InvertSortDirection[sortDirection]);\n                      }}\n                      data-test-id={`table-data-button-sort`}\n                    >\n                      {col.label}\n                      <ScreenReaderText>\n                        Table sorted\n                        {true ? \"ascending\" : \"descending\"}.\n                      </ScreenReaderText>\n                    </TableSortLabel>\n                  ) : (\n                    col.label\n                  )}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!tableData.length && loading && (\n              <TableRow>\n                <TableCell colSpan={data.cols.length}>\n                  <Box display=\"flex\" justifyContent=\"center\" py={2}>\n                    <CircularProgress data-test-id=\"table-data-spinner\" />\n                  </Box>\n                </TableCell>\n              </TableRow>\n            )}\n            {tableData.map((row) => (\n              <TableRow key={uuidv4()}>\n                {Object.keys(row).map((k, i) => (\n                  <TableCell\n                    key={uuidv4()}\n                    data-test-id={`table-data-cell-${data.cols[i].id}`}\n                  >\n                    {row[k].label}\n                  </TableCell>\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      {!!data.rows.length && (\n        <TableActions\n          fetch={fetchData}\n          loading={loading}\n          error={error}\n          complete={complete}\n        />\n      )}\n    </Fragment>\n  );\n};\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nDataTable.propTypes = {\n  fetchData: func.isRequired,\n  loading: bool.isRequired,\n  error: bool.isRequired,\n  complete: bool.isRequired,\n  summary: string.isRequired,\n  initialSortBy: string.isRequired,\n  initialSort: oneOf(Object.keys(SortDirection)).isRequired,\n  title: string.isRequired,\n  data: shape({\n    cols: arrayOf(\n      shape({\n        label: string.isRequired,\n        sortable: bool.isRequired,\n      })\n    ).isRequired,\n    rows: arrayOf(\n      shape({\n        date: shape({\n          value: oneOfType([string, number]).isRequired,\n          label: string.isRequired,\n        }),\n        id: shape({\n          value: oneOfType([string, number]).isRequired,\n          label: string.isRequired,\n        }),\n        old: shape({\n          value: oneOfType([string, number]).isRequired,\n          label: string.isRequired,\n        }),\n        new: shape({\n          value: oneOfType([string, number]).isRequired,\n          label: string.isRequired,\n        }),\n      })\n    ),\n  }).isRequired,\n};\n\nexport default DataTable;\n","import DataTable from \"./DataTable\";\n\nexport default DataTable;\n","export const usersDiff = [\n  {\n    id: 'e28d290a-a2f2-48c2-9001-ff43884e271b',\n    timestamp: new Date('2020/2/14').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'John', newValue: 'Bruce' },\n    ],\n  },\n  {\n    id: '8bd0166f-f0c6-48fd-9fcd-a17e76eb1e92',\n    timestamp: new Date('2020/2/15').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Bruce', newValue: 'Nick' },\n    ],\n  },\n  {\n    id: '0a75a2b3-be64-4aeb-ba4c-8ddb913791ac',\n    timestamp: new Date('2020/2/16').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Nick', newValue: 'Michel' },\n    ],\n  },\n  {\n    id: 'bf008d15-3d34-422e-9041-039c59d9ed3d',\n    timestamp: new Date('2020/2/17').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Michel', newValue: 'Michael' },\n    ],\n  },\n  {\n    id: '2a83c13c-c040-4672-9b7b-c004ce614264',\n    timestamp: new Date('2020/2/18').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Michael', newValue: 'Constantine Prescott Nathaniel Jr.' },\n    ],\n  },\n  {\n    id: 'bb177085-7340-4cf7-a892-f436f20951e2',\n    timestamp: new Date('2020/2/19').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Constantine Prescott Nathaniel Jr.', newValue: 'Constantine Prescott Nathaniel Sr.' },\n    ],\n  },\n  {\n    id: '67f06020-95b3-484d-8713-36584c79e94a',\n    timestamp: new Date('2020/2/22').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Constantine P. N.', newValue: 'Joe' },\n    ],\n  },\n  {\n    id: '57c1fd5d-a11c-433c-8820-a79bbffe6e60',\n    timestamp: new Date('2020/2/23').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Joe', newValue: 'Mo' },\n    ],\n  },\n  {\n    id: 'e9bccea8-bb28-4d0e-9bac-4c09122ad5b4',\n    timestamp: new Date('2020/2/20').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Constantine Prescott Nathaniel Sr.', newValue: 'Constantine P. N. Sr.' },\n    ],\n  },\n  {\n    id: '08283466-883a-4506-90ac-ab85c3f27ab3',\n    timestamp: new Date('2020/2/21').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Constantine P. N. Sr.', newValue: 'Constantine P. N.' },\n    ],\n  },\n];\n\nexport const projectsDiff = [\n  {\n    id: '01fa742c-b2d0-416a-9394-a0a5dc8bc13e',\n    timestamp: new Date('2020/2/15').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Angrier Birds', newValue: 'Angry Birds 2' },\n    ],\n  },\n  {\n    id: '7ba38998-0247-4de9-a3d8-e20cf736e834',\n    timestamp: new Date('2020/2/14').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Angry Birds', newValue: 'Angrier Birds' },\n    ],\n  },\n  {\n    id: 'c72d77f1-6e0b-473e-a600-7295d0822e54',\n    timestamp: new Date('2020/2/16').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Angry Birds 2', newValue: 'Angry Birds 2: The sequel' },\n    ],\n  },\n  {\n    id: '90b9e1ad-7556-44f8-8278-c723824de782',\n    timestamp: new Date('2020/2/17').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Angry Birds 2: The sequel', newValue: 'Angry Birds 2: The return of the birds' },\n    ],\n  },\n  {\n    id: 'fcd064f9-687e-4bd4-9c8f-93361610cc58',\n    timestamp: new Date('2020/2/18').getTime(),\n    diff: [\n      { field: 'name', oldValue: 'Angry Birds 2: The return of the birds', newValue: 'Angry Birds 2' },\n    ],\n  },\n];\n","import { usersDiff, projectsDiff } from './data';\n\nconst DEFAULT_DELAY = 2000;\nconst PAGE_SIZE = 3;\n\nconst resolveOrRejectCollection = (timesCalled, collection) => () => {\n  return new Promise((resolve, reject) => {\n    const id = setTimeout(() => {\n      timesCalled += 1;\n      const sliceStart = PAGE_SIZE * (Math.ceil(timesCalled / 2) - 1);\n      const sliceEnd = PAGE_SIZE * Math.ceil(timesCalled / 2);\n      const totalItems = collection.length;\n      const hasItems = sliceStart < totalItems;\n\n      clearTimeout(id);\n\n      if (timesCalled % 2 === 0) {\n        return reject({\n          code: 500,\n          error: 'Uknown error',\n        });\n      }\n\n      return resolve({\n        code: 200,\n        data: collection.slice(sliceStart, sliceEnd),\n        limit: PAGE_SIZE,\n        offset: hasItems ? sliceStart : totalItems,\n        total: totalItems,\n      });\n    }, DEFAULT_DELAY)\n  });\n};\n\nconst getProjectsDiff = () => {\n  let timesCalled = 0;\n\n  return resolveOrRejectCollection(timesCalled, projectsDiff);\n};\n\nconst getUsersDiff = () => {\n  let timesCalled = 0;\n\n  return resolveOrRejectCollection(timesCalled, usersDiff);\n};\n\nexport default {\n  getProjectsDiff: getProjectsDiff(),\n  getUsersDiff: getUsersDiff(),\n};\n","import format from \"date-fns/format\";\n\nexport const formatTableRowData = (data) =>\n  data.length\n    ? data.map((d) => ({\n        date: {\n          label: format(d.timestamp, \"yyyy-MM-d\"),\n          value: d.timestamp,\n        },\n        id: {\n          label: d.id,\n          value: d.id,\n        },\n        old: {\n          label: d.diff[0].oldValue,\n          value: d.diff[0].oldValue,\n        },\n        new: {\n          label: d.diff[0].newValue,\n          value: d.diff[0].newValue,\n        },\n      }))\n    : [];\n","import React, { useState, useCallback, useEffect } from \"react\";\n\nimport DataTable from \"../../components/DataTable\";\nimport api from \"../../lib/api\";\n\nimport { SortDirection } from \"../../types/sortDirection\";\nimport { formatTableRowData } from \"../../utils/formatTableRowData\";\n\nconst UsersTable = () => {\n  const [loading, setLoading] = useState(false);\n  const [complete, setComplete] = useState(false);\n  const [error, setError] = useState(false);\n  const [data, setData] = useState([]);\n\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(false);\n\n    try {\n      const result = await api.getUsersDiff();\n\n      result.data.length\n        ? setData((data) => data.concat(result.data))\n        : setComplete(true);\n    } catch (err) {\n      setError(!!err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (data.length) return;\n    fetchData();\n  }, [data, fetchData]);\n\n  return (\n    <DataTable\n      fetchData={fetchData}\n      title=\"Users table\"\n      summary=\"A table of historical user updates\"\n      loading={loading}\n      error={error}\n      complete={complete}\n      initialSortBy=\"date\"\n      initialSort={SortDirection.desc}\n      data={{\n        cols: [\n          {\n            id: \"date\",\n            label: \"Date\",\n            sortable: true,\n          },\n          {\n            id: \"id\",\n            label: \"User ID\",\n            sortable: false,\n          },\n          {\n            id: \"old\",\n            label: \"Old Value\",\n            sortable: false,\n          },\n          {\n            id: \"new\",\n            label: \"New Value\",\n            sortable: false,\n          },\n        ],\n        rows: formatTableRowData(data),\n      }}\n    />\n  );\n};\n\nexport default UsersTable;\n","import React, { useState, useCallback, useEffect } from \"react\";\n\nimport DataTable from \"../../components/DataTable\";\nimport api from \"../../lib/api\";\n\nimport { SortDirection } from \"../../types/sortDirection\";\nimport { formatTableRowData } from \"../../utils/formatTableRowData\";\n\nconst ProjectsTable = () => {\n  const [loading, setLoading] = useState(false);\n  const [complete, setComplete] = useState(false);\n  const [error, setError] = useState(false);\n  const [data, setData] = useState([]);\n\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(false);\n\n    try {\n      const result = await api.getProjectsDiff();\n\n      result.data.length\n        ? setData((data) => data.concat(result.data))\n        : setComplete(true);\n    } catch (err) {\n      setError(!!err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (data.length) return;\n    fetchData();\n  }, [data, fetchData]);\n\n  return (\n    <DataTable\n      fetchData={fetchData}\n      title=\"Projects table\"\n      summary=\"A table of historical project updates\"\n      loading={loading}\n      error={error}\n      complete={complete}\n      initialSortBy=\"date\"\n      initialSort={SortDirection.desc}\n      data={{\n        cols: [\n          {\n            id: \"date\",\n            label: \"Date\",\n            sortable: true,\n          },\n          {\n            id: \"id\",\n            label: \"User ID\",\n            sortable: false,\n          },\n          {\n            id: \"old\",\n            label: \"Old Value\",\n            sortable: false,\n          },\n          {\n            id: \"new\",\n            label: \"New Value\",\n            sortable: false,\n          },\n        ],\n        rows: formatTableRowData(data),\n      }}\n    />\n  );\n};\n\nexport default ProjectsTable;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport UsersTable from \"./UsersTable\";\nimport ProjectsTable from \"./ProjectsTable\";\n\nconst App = () => {\n  return (\n    <StyledPage data-test-id=\"app\">\n      <UsersTable data-test-class=\"app-table\" />\n      <ProjectsTable data-test-class=\"app-table\" />\n    </StyledPage>\n  );\n};\n\nconst StyledPage = styled.main`\n  display: grid;\n  grid-gap: var(--spacing-three);\n  padding: var(--spacing-two) var(--spacing-three);\n`;\n\nexport default App;\n","import App from \"./App\";\n\nexport default App;\n","import React, { Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createGlobalStyle } from \"styled-components\";\n\nimport App from \"./routes/App\";\n\nconst GlobalStyle = createGlobalStyle`\n  :root {\n    --spacing-unit: 8px;\n    --spacing-one: 8px;\n    --spacing-two: 16px;\n    --spacing-three: 24px;\n\n    --color-light-primary: #e6e6e6;\n    --color-dark-primary: #121212;\n\n    --font-primary: 'Raleway', sans-serif;\n  }\n\n  * {\n    border: 0;\n    box-sizing: border-box;\n    font-size: 100%;\n    margin: 0;\n    padding: 0;\n\t  vertical-align: baseline\n  }\n\n  html, body {\n    -webkit-font-smoothing: antialiased;\n    -webkit-text-size-adjust: none;\n\n    background: var(--color-light-primary);\n    background-image: url(\"https://www.transparenttextures.com/patterns/dark-dotted-2.png\");\n    backface-visibility: hidden;\n    color: --color-dark-primary;\n    font-family: var(--font-primary);\n    font-size: min(max(16px, 2vw), 18px);\n    font-weight: 400;\n    line-height: 1.75;\n\n    @supports(font-size: clamp(1rem, 1vw, 1rem)) {\n      font-size: clamp(16px, 2vw, 18px);\n    }\n  }\n`;\n\nReactDOM.render(\n  <Fragment>\n    <GlobalStyle />\n    <App />\n  </Fragment>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}